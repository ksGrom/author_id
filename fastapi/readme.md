## Определение авторства текста

В данную версию входит модель, обученная на произведениях 9 русских писателей.

## FastAPI

Код микросервиса содержится в `main.py`. На текущий момент реализован только
один метод: `/predict`. На вход принимается файл с одним или несколькими текстами,
в ответе содержится список из результатов классификации. 
Поддерживаются два расширения для входного файла: `.txt` и `.csv`. Входной файл
с расширением `txt` рассматривается программой как один текст. Если на вход подается
`csv`-таблица (набор текстов), то в ней должен быть столбец, озаглавленный как `text`.
Файл должен иметь кодировку UTF-8. Если файл невалидный, сервис ответит кодом 422 
(проверяются расширение, кодировка и, в случае csv-файла, наличие столбца `text`).

В текущей версии классификация работает довольно долго,
до нескольких секунд на текст. Значительная часть времени 
уходит на лемматизацию; в дальнейшем, вероятнее всего, она будет исключена,
поскольку на качество модели значительно не влияет. 

## Получение предсказаний с помощью командной строки
Из командной строки можно запустить скрипт для классификации текстов по авторству. 
Принимаются два аргумента: `input` — путь к входному файлу, и `output` — путь к выходному файлу.
Поддерживаются два расширения для входного файла: `.txt` и `.csv`. Входной файл
с расширением `txt` рассматривается скриптом как один текст. Если на вход подается
`csv`-таблица (набор текстов), то в ней должен быть столбец, озаглавленный как `text`.
Выходной файл — `csv`-таблица со столбцами `text`, `lemmas` (леммы из текстов) 
и `prediction` (результаты классификации). В выходном файле могут быть и прочие столбцы, 
если они есть во входном файле.

Для теста можно воспользоваться файлом `sample.txt`, который лежит в одной папке с этим `readme.md`.
Пример запуска (Linux):
```bash
python3 script.py --input=sample.txt --output=sample-output.txt
```
